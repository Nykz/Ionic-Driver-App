import{a as E}from"./chunk-KRQW3WRS.js";import{a as D}from"./chunk-AIDVXPZK.js";import{a as F}from"./chunk-WFCDVFAH.js";import"./chunk-3C7OKRBG.js";import"./chunk-7RJKU3Z7.js";import{a as L}from"./chunk-E7APRJJL.js";import"./chunk-RZ7UTHTO.js";import"./chunk-CFZVMA6D.js";import"./chunk-ZSWNRFCL.js";import{Ab as b,C as u,Fb as v,H as m,J as i,Kb as P,Pb as I,R as a,S as l,T as p,Ub as S,Z as g,ga as h,gc as C,ha as _,hc as T,sc as M,x as r,y as c,ya as y,za as O}from"./chunk-HSJ3UP2Q.js";import"./chunk-5K2P5JXY.js";import"./chunk-G2NBWZGV.js";import"./chunk-5ZMMP3RU.js";import"./chunk-GBYUAKBO.js";import"./chunk-TFHXA6LG.js";import"./chunk-6L6JLL4O.js";import"./chunk-G3CV3VGG.js";import"./chunk-JX3TYZ34.js";import"./chunk-RUY5SX76.js";import"./chunk-NIOQNOHM.js";import"./chunk-4U6PRYVA.js";import"./chunk-4YKAI63M.js";import"./chunk-JWIEPCRG.js";import"./chunk-QPVVTFFW.js";import"./chunk-J6ICYO4L.js";import"./chunk-LF5XB4YN.js";import{f}from"./chunk-RW4GY4BD.js";function x(e,o){e&1&&(a(0,"ion-buttons",4),p(1,"ion-back-button",5),l())}function B(e,o){e&1&&p(0,"app-loading-order")}function k(e,o){if(e&1&&p(0,"app-empty-screen",6),e&2){let d=g();i("model",d.model)}}function w(e,o){if(e&1&&p(0,"app-orders",8),e&2){let d=o.$implicit;i("order",d)}}function N(e,o){if(e&1&&(a(0,"ion-list"),m(1,w,1,1,"app-orders",7),l()),e&2){let d=g();r(),i("ngForOf",d.orders)}}var J=(()=>{let o=class o{constructor(t,s){this.orderService=t,this.global=s,this.isLoading=!1,this.orders=[],this.model={icon:"fast-food-outline",title:"No Orders Placed Yet"},this.loadMore=!1,this.noMoreOrders=!1,this.limit=10,this.canGoBack=!1}ngOnInit(){this.getData(),this.ordersSub=this.orderService.orders.subscribe({next:t=>{console.log("order data: ",t),this.orders=t},error:t=>{console.log(t)}})}getData(){return f(this,null,function*(){try{this.isLoading=!0;let t=yield this.orderService.getPastOrders();(t==null?void 0:t.length)<this.limit&&(this.noMoreOrders=!0),this.isLoading=!1}catch(t){this.isLoading=!1,console.log(t),this.global.errorToast()}})}ngOnDestroy(){this.ordersSub&&this.ordersSub.unsubscribe(),this.orderService.reset()}};o.\u0275fac=function(s){return new(s||o)(c(L),c(M))},o.\u0275cmp=u({type:o,selectors:[["app-past-orders"]],decls:9,vars:5,consts:[["slot","start",4,"ngIf"],[1,"ion-padding"],[4,"ngIf"],[3,"model",4,"ngIf"],["slot","start"],["defaultHref","/tabs/business"],[3,"model"],[3,"order",4,"ngFor","ngForOf"],[3,"order"]],template:function(s,n){s&1&&(a(0,"ion-header")(1,"ion-toolbar"),m(2,x,2,0,"ion-buttons",0),a(3,"ion-title"),h(4),l()()(),a(5,"ion-content",1),m(6,B,1,0,"app-loading-order",2)(7,k,1,1,"app-empty-screen",3)(8,N,2,1,"ion-list",2),l()),s&2&&(r(2),i("ngIf",n.filterType),r(2),_(n.filterType=="today"?"Today's Orders":n.filterType=="pending"?"Payout Pending Orders":"Past Orders"),r(2),i("ngIf",n.isLoading&&(n.orders==null?null:n.orders.length)==0),r(),i("ngIf",!n.isLoading&&(n.orders==null?null:n.orders.length)==0),r(),i("ngIf",!n.isLoading&&(n.orders==null?null:n.orders.length)>0))},dependencies:[I,T,v,b,C,P,S,O,y,D,F,E],styles:["div[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{height:2.5rem}div[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]   ion-text[_ngcontent-%COMP%]{font-weight:700;font-size:.8rem}"]});let e=o;return e})();export{J as PastOrdersPage};
