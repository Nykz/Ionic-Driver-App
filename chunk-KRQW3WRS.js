import{a as J}from"./chunk-3C7OKRBG.js";import{a as Q}from"./chunk-7RJKU3Z7.js";import{C as y,Ca as R,Da as B,Db as F,Eb as N,H as p,J as c,Ja as V,Jb as A,K as I,Mb as j,Qb as q,R as r,Rb as Y,S as i,Sb as G,T as M,Tb as K,X as v,Y as g,Z as u,_b as L,ec as U,ga as d,ha as S,ia as m,ja as O,lc as $,o as f,p as P,pa as E,qa as _,ra as b,rc as H,sa as w,t as C,x as o,xa as D,y as k,ya as T,za as z}from"./chunk-HSJ3UP2Q.js";import{a as h,b as x}from"./chunk-RW4GY4BD.js";var X=t=>({earning:t});function Z(t,s){if(t&1&&(r(0,"p")(1,"ion-text",13),d(2),_(3,"number"),i()()),t&2){let n=u();o(2),m(" ",w(3,1,n.order==null?null:n.order.distance,"0.0-2")," kms ")}}function ee(t,s){if(t&1){let n=v();r(0,"ion-fab-button",14),g("click",function(){f(n);let a=u();return P(a.callRestaurant(a.order==null||a.order.restaurant==null?null:a.order.restaurant.phone))}),M(1,"ion-icon",15),i()}}function ne(t,s){if(t&1&&(r(0,"ion-row",16)(1,"ion-col",17),d(2),i(),r(3,"ion-col",18),d(4),i()()),t&2){let n=s.$implicit,l=u();o(2),O(" ",n==null?null:n.name," (",n==null?null:n.quantity,") "),o(2),O("",l.currency,"",(n==null?null:n.price)*(n==null?null:n.quantity),"")}}function te(t,s){if(t&1&&(r(0,"p",19),d(1),i()),t&2){let n=u();o(),m(" ",n.order==null?null:n.order.instruction," ")}}function oe(t,s){if(t&1){let n=v();r(0,"ion-row")(1,"ion-col",20),g("click",function(){f(n);let a=u();return P(a.assignRider())}),r(2,"ion-button",21),d(3,"ACCEPT"),i()()()}t&2&&(o(),I("background","var(--ion-color-success)"))}function re(t,s){if(t&1&&(r(0,"ion-item",25)(1,"ion-label",26),d(2," You Earned "),r(3,"p")(4,"ion-text",27),d(5),_(6,"decimal"),i()()()()),t&2){let n=u(2);o(5),O(" ",n.currency,"",b(6,2,n.order==null?null:n.order.rider_share)," ")}}function ie(t,s){if(t&1&&(r(0,"ion-row")(1,"ion-col",22),p(2,re,7,4,"ion-item",23),i(),r(3,"ion-col",24)(4,"ion-button",21),d(5),i()()()),t&2){let n=u();o(),c("ngClass",E(5,X,(n.order==null?null:n.order.status)=="Delivered")),o(),c("ngIf",(n.order==null?null:n.order.status)=="Delivered"),o(),I("background",n.getBgColor(n.order==null?null:n.order.status)),o(2),S(n.order==null?null:n.order.status)}}function le(t,s){if(t&1){let n=v();r(0,"ion-row")(1,"ion-col",28),g("click",function(){f(n);let a=u();return P(a.orderDetails(a.order==null?null:a.order.id))}),r(2,"ion-button",29),d(3,"TRACK ORDER"),i()()()}}var fe=(()=>{let s=class s{constructor(l){this.router=l,this.currency=H.CURRENCY,this.status=new C,this.orderDetail=new C,this.call=new C,this.assign=new C}ngOnInit(){}orderDetails(l){this.router.navigate(["/","tabs","order-detail",l])}getBgColor(l){switch(l){case"Delivered":return"var(--ion-color-success)";case"Cancelled":return"var(--ion-color-danger)";case"Rejected":return"var(--ion-color-danger)";default:return""}}changeStat(l){console.log(l),this.stat=l.detail.value}changeStatus(l){let a=x(h({},this.order),{status:l});this.status.emit(a)}callRestaurant(l){this.call.emit(l)}assignRider(){this.assign.emit(this.order)}};s.\u0275fac=function(a){return new(a||s)(k(V))},s.\u0275cmp=y({type:s,selectors:[["app-orders"]],inputs:{order:"order"},outputs:{status:"status",orderDetail:"orderDetail",call:"call",assign:"assign"},decls:31,vars:23,consts:[[1,"ion-margin-bottom"],["lines","none","detail","true",1,"dashedBorderBottom","userInfo",3,"click"],["slot","start"],[3,"src"],[1,"ion-text-wrap","orderId"],[4,"ngIf"],["slot","end","color","success",1,"price"],["lines","none",1,"restaurant"],["size","small","color","success","slot","end","class","fab_call",3,"click",4,"ngIf"],["lines","none",1,"borderBottomSmall","noRadius",3,"click"],["color","dark",4,"ngFor","ngForOf"],["class","ion-text-wrap time",4,"ngIf"],[1,"time"],["color","tertiary"],["size","small","color","success","slot","end",1,"fab_call",3,"click"],["name","call-outline","color","white"],["color","dark"],["size","8"],["size","4",1,"ion-text-end"],[1,"ion-text-wrap","time"],["size","12",1,"ion-no-padding","ion-text-center","right",3,"click"],["fill","clear","expand","block","color","white"],["size","6",1,"ion-no-padding","ion-text-center","left",3,"ngClass"],["lines","none",4,"ngIf"],["size","6","mode","ios",1,"ion-no-padding","ion-text-center","right"],["lines","none"],[1,"ion-text-center"],["color","success"],["size","12",1,"ion-no-padding","ion-text-center","left",3,"click"],["expand","block","color","secondary"]],template:function(a,e){a&1&&(r(0,"ion-item-group",0)(1,"ion-item",1),g("click",function(){return e.orderDetails(e.order==null?null:e.order.id)}),r(2,"ion-avatar",2),M(3,"ion-img",3),i(),r(4,"ion-label"),d(5),r(6,"p",4),d(7),i(),p(8,Z,4,4,"p",5),i(),r(9,"ion-text",6),d(10),_(11,"decimal"),i()(),r(12,"ion-item",7)(13,"ion-avatar",2),M(14,"ion-img",3),i(),r(15,"ion-label"),d(16),r(17,"p",4),d(18),i()(),p(19,ee,2,0,"ion-fab-button",8),i(),r(20,"ion-item",9),g("click",function(){return e.orderDetails(e.order==null?null:e.order.id)}),r(21,"ion-label"),p(22,ne,5,4,"ion-row",10)(23,te,2,1,"p",11),r(24,"p",12),d(25),_(26,"timestampToDate"),_(27,"date"),i()()(),p(28,oe,4,2,"ion-row",5)(29,ie,6,7,"ion-row",5)(30,le,4,0,"ion-row",5),i()),a&2&&(o(3),c("src",!(e.order==null||e.order.user==null)&&e.order.user.photo?e.order==null||e.order.user==null?null:e.order.user.photo:"assets/imgs/avatar.png"),o(2),m(" ",e.order==null||e.order.user==null?null:e.order.user.name," "),o(2),m("ORDER ID #",e.order==null?null:e.order.id,""),o(),c("ngIf",e.order==null?null:e.order.distance),o(2),O(" ",e.currency,"",b(11,16,e.order==null?null:e.order.grandTotal)," "),o(4),c("src",!(e.order==null||e.order.restaurant==null)&&e.order.restaurant.cover?e.order==null||e.order.restaurant==null?null:e.order.restaurant.cover:"assets/imgs/avatar.png"),o(2),m(" ",e.order==null||e.order.restaurant==null?null:e.order.restaurant.name," "),o(2),m(" ",e.order==null||e.order.restaurant==null?null:e.order.restaurant.address," "),o(),c("ngIf",(e.order==null?null:e.order.status)=="Ongoing"||(e.order==null?null:e.order.status)=="Picked"),o(3),c("ngForOf",e.order==null?null:e.order.order),o(),c("ngIf",e.order==null?null:e.order.instruction),o(2),m(" ",w(27,20,b(26,18,e.order==null?null:e.order.created_at),"MMM d, y, h:mm a")," "),o(3),c("ngIf",(e.order==null?null:e.order.status)=="Accepted"&&!(e.order!=null&&e.order.rider_id)),o(),c("ngIf",(e.order==null?null:e.order.status)=="Delivered"||(e.order==null?null:e.order.status)=="Cancelled"||(e.order==null?null:e.order.status)=="Rejected"),o(),c("ngIf",(e.order==null?null:e.order.status)=="Ongoing"||(e.order==null?null:e.order.status)=="Picked"))},dependencies:[F,Y,G,q,K,U,L,A,N,j,$,T,z,D,R,J,Q,B],styles:["ion-item-group[_ngcontent-%COMP%], ion-item[_ngcontent-%COMP%]{border-radius:10px}ion-item-group[_ngcontent-%COMP%]{border:1px solid var(--ion-color-dark)}ion-item-group[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]{margin-top:1vh;font-size:.75rem!important}ion-item-group[_ngcontent-%COMP%]   .userInfo[_ngcontent-%COMP%]{--inner-padding-end: 5px;--padding-start: 5px}ion-item-group[_ngcontent-%COMP%]   .userInfo[_ngcontent-%COMP%]   ion-avatar[_ngcontent-%COMP%]{margin-right:5px}ion-item-group[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-size:.95rem}ion-item-group[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   ion-text[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:.6rem}ion-item-group[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.8rem}ion-item-group[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   p.orderId[_ngcontent-%COMP%]{font-size:.6rem}ion-item-group[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]{font-size:.8rem}ion-item-group[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{font-size:.85rem;font-weight:700!important}ion-item-group[_ngcontent-%COMP%]   ion-item.restaurant[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-size:.82rem}ion-item-group[_ngcontent-%COMP%]   ion-item.restaurant[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.7rem}ion-item-group[_ngcontent-%COMP%]   .noRadius[_ngcontent-%COMP%]{border-radius:0!important}ion-item-group[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]{align-items:center}ion-item-group[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   ion-col.bg[_ngcontent-%COMP%]{background-color:var(--ion-color-primary)}ion-item-group[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   ion-col.right[_ngcontent-%COMP%]{border-radius:0 0 10px}ion-item-group[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   ion-col.left[_ngcontent-%COMP%]{border-radius:0 0 0 10px}ion-item-group[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]   .selectItem[_ngcontent-%COMP%]   ion-select[_ngcontent-%COMP%]{width:100%;border:1px solid lightgray;border-radius:5px;--padding-top: 8px;--padding-bottom: 8px}.earning[_ngcontent-%COMP%]{border-top:1px dashed var(--ion-color-dark);background-color:var(--ion-color-light)}.earning[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--background: var(--ion-color-light)}.earning[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-size:.8rem!important;color:gray}.earning[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:5px;font-size:1rem!important}"]});let t=s;return t})();export{fe as a};
